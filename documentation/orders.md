# Order API Documentation

This document outlines the API endpoints related to the order management system. It provides details on the request methods, request bodies, response formats, and expected behavior for each endpoint.

## Base URL

All endpoints are relative to the base URL (example):

```
https://your-api-base-url/api/v1
```

## Endpoints

### 1. Get All Orders

- **Endpoint:** `/orders`
- **Method:** `GET`
- **Description:** Retrieves a list of all orders.
- **Request Body:** None
- **Response (200 OK):**

  ```json
  [
  	{
  		"id": 1,
  		"orderNumber": "ORD12345",
  		"customerId": "user-123",
  		"items": [
  			{
  				"productId": "product-1",
  				"quantity": 2,
  				"price": 100
  			},
  			{
  				"productId": "product-2",
  				"quantity": 1,
  				"price": 50
  			}
  		],
  		"totalAmount": 250,
  		"status": "PROCESSING",
  		"createdAt": "2024-07-26T10:00:00Z",
  		"updatedAt": "2024-07-26T10:30:00Z"
  	},
  	{
  		"id": 2,
  		"orderNumber": "ORD67890",
  		"customerId": "user-456",
  		"items": [
  			{
  				"productId": "product-3",
  				"quantity": 3,
  				"price": 20
  			},
  			{
  				"productId": "product-4",
  				"quantity": 1,
  				"price": 30
  			}
  		],
  		"totalAmount": 90,
  		"status": "PENDING",
  		"createdAt": "2024-07-27T14:00:00Z",
  		"updatedAt": "2024-07-27T14:15:00Z"
  	}
  ]
  ```

  - **`id`**: Unique identifier for the order (number).
  - **`orderNumber`**: Order tracking number or identifier (String).
  - **`customerId`**: ID of the customer who placed the order (String).
  - **`items`**: An array of items in the order
    - **`productId`**: ID of the product ordered (String).
    - **`quantity`**: Quantity of the product ordered (Number).
    - **`price`**: Price of the product at time of order (Number).
  - **`totalAmount`**: Total cost of the order (Number).
  - **`status`**: Current status of the order (`PENDING`, `PROCESSING`, `SHIPPED`, `DELIVERED`, `CANCELLED`).
  - **`createdAt`**: Date and time when the order was created (String, ISO 8601 format).
  - **`updatedAt`**: Date and time when the order was last updated (String, ISO 8601 format).

- **Error Response:**
  - **404 Not Found:** If no orders are found.
  - **500 Internal Server Error:** For other server-related errors.

### 2. Get Order by ID

- **Endpoint:** `/orders/:id`
- **Method:** `GET`
- **Description:** Retrieves a specific order by its `id`.
- **Request Body:** None
- **Response (200 OK):**
  `json
   {
     "id": 1,
     "orderNumber": "ORD12345",
     "customerId": "user-123",
     "items": [
       {
         "productId": "product-1",
         "quantity": 2,
         "price": 100
       },
         {
           "productId": "product-2",
           "quantity": 1,
           "price": 50
         }
     ],
     "totalAmount": 250,
     "status": "PROCESSING",
     "createdAt": "2024-07-26T10:00:00Z",
     "updatedAt": "2024-07-26T10:30:00Z"
   }
     `

  - Returns the `Order` object matching the ID provided

- **Error Response:**
  - **404 Not Found:** If no order is found with the provided `id`.
  - **500 Internal Server Error:** For other server-related errors.

### 3. Create a New Order

- **Endpoint:** `/orders`
- **Method:** `POST`
- **Description:** Creates a new order.
- **Request Body:**

  ```json
  {
  	"customerId": "user-789",
  	"items": [
  		{
  			"productId": "product-5",
  			"quantity": 1,
  			"price": 75
  		},
  		{
  			"productId": "product-6",
  			"quantity": 2,
  			"price": 30
  		}
  	],
  	"status": "PENDING"
  }
  ```

  - The `id`, `orderNumber`, `createdAt` and `updatedAt` will be autogenerated
  - All other fields except `status` are required.
  - The default value for status is `PENDING`

- **Response (201 Created):**
  ```json
  {
  "id": 3,
  "orderNumber": "ORD11223",
  "customerId": "user-789",
  "items": [
  {
  "productId": "product-5",
  "quantity": 1,
  "price": 75
  },
  {
  "productId": "product-6",
  "quantity": 2,
  "price": 30
  }
  ],
  "totalAmount": 135,
  "status": "PENDING",
  "createdAt": "2024-07-28T12:00:00Z",
  "updatedAt": "2024-07-28T12:00:00Z"
  }
  ```
  *   Returns the newly created `Order` object with an assigned `id`.
  ```
- **Error Response:**
  - **400 Bad Request:** If the request body is invalid or missing required fields.
  - **500 Internal Server Error:** For other server-related errors.

### 4. Update Existing Order

- **Endpoint:** `/orders/:id`
- **Method:** `PUT`
- **Description:** Updates an existing order identified by its `id`.
- **Request Body:**
  ```json
  {
  	"id": 1,
  	"orderNumber": "ORD12345",
  	"customerId": "user-123",
  	"items": [
  		{
  			"productId": "product-1",
  			"quantity": 1,
  			"price": 110
  		},
  		{
  			"productId": "product-2",
  			"quantity": 1,
  			"price": 50
  		}
  	],
  	"totalAmount": 160,
  	"status": "SHIPPED",
  	"createdAt": "2024-07-26T10:00:00Z",
  	"updatedAt": "2024-07-26T11:00:00Z"
  }
  ```
  - The `id` in the body must match the `:id` path parameter.
  - All fields are required.
- **Response (200 OK):**
  ```json
  {
  "id": 1,
  "orderNumber": "ORD12345",
  "customerId": "user-123",
  "items": [
  {
  "productId": "product-1",
  "quantity": 1,
  "price": 110
  },
  {
  "productId": "product-2",
  "quantity": 1,
  "price": 50
  }
  ],
  "totalAmount": 160,
  "status": "SHIPPED",
  "createdAt": "2024-07-26T10:00:00Z",
  "updatedAt": "2024-07-26T11:00:00Z"
  }

  ```

  *   Returns the updated `Order` object.
  ```

- **Error Response:**
  - **400 Bad Request:** If the request body is invalid or missing required fields.
  - **404 Not Found:** If no order is found with the provided `id`.
  - **500 Internal Server Error:** For other server-related errors.

### 5. Remove an Order

- **Endpoint:** `/orders/:id`
- **Method:** `DELETE`
- **Description:** Deletes an order by its ID.
- **Request Body:** None
- **Response (200 OK):**
  ```json
  {
  	"success": true,
  	"deletedId": "order-1"
  }
  ```
  - Returns the `deletedId`
- **Error Response:**
  - **404 Not Found:** If no order is found with the provided `id`.
  - **500 Internal Server Error:** For other server-related errors.

## Data Types

### `Order`

```typescript
export interface Order {
	id: number;
	orderNumber: string;
	customerId: string;
	items: OrderItem[];
	totalAmount: number;
	status: "PENDING" | "PROCESSING" | "SHIPPED" | "DELIVERED" | "CANCELLED";
	createdAt: string;
	updatedAt: string;
}
```

### `OrderItem`

```typescript
export interface OrderItem {
	productId: string;
	quantity: number;
	price: number;
}
```

## Notes

- All requests requiring authentication should include the JWT token in the `Authorization` header: `Bearer <your_token>`.
- Error responses will include a `message` field describing the error.
- The `:id` in endpoints indicates a variable path parameter representing the unique identifier of the order.
